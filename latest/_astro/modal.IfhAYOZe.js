import{i as r,u as s,v as n,O as d,w as l,S as h,c as m,k as p,s as c,f as u,a as v,x as f,_ as e,n as o,l as y,o as b,d as w,M as g}from"./chunk.BDXXLFJI.Wz8REFjk.js";import{x as C}from"./directive.qvJfFQ74.js";import{o as x}from"./query-assigned-elements.QVyvENXT.js";import{e as O}from"./class-map.iK5X3Dze.js";var E=r`:host{display:block;--mte-modal-background:var(--mte-surface-2);--mte-modal-color:inherit;--mte-modal-padding:var(--mte-space-md);--mte-modal-header-divider:solid 1px var(--mte-border-1);--mte-modal-footer-divider:solid 1px var(--mte-border-1);--mte-modal-border-radius:var(--mte-border-radius-xl);--transition-duration:200ms}:host(:not([opened]):not([openedFull])) .modal{height:1px!important;position:absolute!important;width:1px!important;clip:rect(0 0 0 0)!important;border:none!important;clip-path:inset(50%)!important;overflow:hidden!important;padding:0!important;white-space:nowrap!important}:host .modal{background:var(--mte-modal-background);border-color:transparent;border-radius:var(--mte-modal-border-radius);border-width:0;box-shadow:var(--mte-elevation-z3);color:var(--color);display:flex;flex-direction:column;left:50%;max-height:95vh;max-width:95vw;opacity:0;overflow:hidden;pointer-events:auto;position:fixed;top:50%;transform:translate(-50%,calc(-50% + 30px));transition:visibility 0s var(--transition-duration),transform var(--transition-duration),opacity var(--transition-duration);visibility:hidden;width:auto;will-change:transform;z-index:1}:host([size=sm]) .modal{width:min(440px,95vw)}:host([size=md]) .modal{width:min(600px,95vw)}:host([size=lg]) .modal{width:min(960px,95vw)}:host([radius=sm]) .modal{--mte-modal-border-radius:var(--mte-border-radius-md)}:host([radius=md]) .modal{--mte-modal-border-radius:var(--mte-border-radius-lg)}:host([withoutHeaderDivider]){--mte-modal-header-divider:none}:host([withoutFooterDivider]){--mte-modal-footer-divider:none}:host .modal.opened{opacity:1;transform:translate(-50%,-50%);transition:visibility 0s,transform var(--transition-duration),opacity var(--transition-duration);visibility:visible}:host ::slotted(mte-content),:host ::slotted(mte-footer),:host ::slotted(mte-header){--composition-padding-y:var(--mte-modal-padding);--composition-padding-x:var(--mte-modal-padding)}:host ::slotted(mte-header){--composition-divider:var(--mte-modal-header-divider)}:host ::slotted(mte-footer){--composition-divider:var(--mte-modal-footer-divider)}.content-container,.header{background:var(--mte-modal-background)}.content-container{display:flex;flex-grow:1;overflow:hidden;position:relative}.content{flex-grow:1;overflow:auto;will-change:transform}.content ::slotted(mte-content){padding-bottom:var(--composition-padding-y);padding-top:var(--composition-padding-y)}.footer{background:var(var(--mte-modal-background))}@media screen and (prefers-reduced-motion:reduce){:host .modal,:host .modal.opened{transition:none}}`,k=0,t=class extends s(n(d(l("MteModal")(h(g))))){constructor(){super(...arguments),this.internalId=k++,this.withoutCloseOnClickOutside=!1,this.withoutCloseOnEscape=!1,this.withoutFooterDivider=!1,this.withoutHeaderDivider=!1,this.withContentFocus=!1,this.ariaModal="true",this.role="dialog",this.id=`mte-modal--${this.internalId}`,this.animationDuration=m.animation.transitionDurationJs.short*1e3,this.contentStyleSelectorRoot=":host:host:host:host:host:host .modal",this.instanceStyleSelectorRoot=":host:host:host:host:host:host .modal",this.detectChildCloseController=new p(this),this.triggerOn="click"}get headerElementRef(){return this._headerElementRef}set headerElementRef(i){if(this._headerElementRef=i,i){const a=this._headerElementRef?.getAttribute("id")??`mte-modal-header--${this.internalId}`;this._headerElementRef?.setAttribute("id",a),this.ariaLabelledBy=a}else this.ariaLabelledBy=null}onCloseOnEscapeChange(){this.setOverlayOptions({withCloseOnClickOutside:!this.withoutCloseOnClickOutside,withCloseOnEscape:!this.withoutCloseOnEscape,withDimBackdrop:!0,backdropTransitionDuration:`${this.animationDuration}ms`})}firstUpdated(i){super.firstUpdated(i),this.headerElements.length>0&&(this.headerElementRef=this.headerElements[0])}open(){return new Promise(i=>{this.handleOverlayOpen({clickOutsideElement:this.modalElem}).then(()=>{setTimeout(()=>{this.handleOverlayOpenEnd().then(()=>{i()})},this.animationDuration)})})}close(){return new Promise(i=>{this.handleOverlayClose().then(()=>{setTimeout(()=>{this.handleOverlayCloseEnd().then(()=>{i()})},this.animationDuration)})})}toggle(){return this.opened?this.close():this.open()}handleHeaderSlotChange(){this.headerElements.length>0&&(this.headerElementRef=this.headerElements[0])}updateInstanceStyles(i){super.updateInstanceStyles(i),i.has("animationDuration")&&this.setInstanceStyle("modal",c(this.instanceStyleSelectorRoot),{"--transition-duration":`${this.animationDuration}ms`})}render(){return C`${this.instanceStyles}<div class="modal ${O({opened:this.opened&&this.readyForAnimation})}"><div class="header" part="header"><slot name="header" @slotchange="${this.handleHeaderSlotChange}"></slot></div><div class="content-container"><div class="content" part="content" tabindex="${u(this.withContentFocus?0:null)}"><slot></slot></div></div><div part="footer" class="footer"><slot name="footer"></slot></div></div>`}};t.styles=[v,f,E];e([o({reflect:!0,type:Boolean})],t.prototype,"withoutCloseOnClickOutside",2);e([o({reflect:!0,type:Boolean})],t.prototype,"withoutCloseOnEscape",2);e([o({reflect:!0,type:Boolean})],t.prototype,"withoutFooterDivider",2);e([o({reflect:!0,type:Boolean})],t.prototype,"withoutHeaderDivider",2);e([o({reflect:!0,type:Boolean})],t.prototype,"withContentFocus",2);e([o({attribute:"aria-modal",reflect:!0})],t.prototype,"ariaModal",2);e([o({attribute:"aria-describedby",reflect:!0})],t.prototype,"ariaDescribedBy",2);e([o({reflect:!0})],t.prototype,"role",2);e([o({reflect:!0})],t.prototype,"id",2);e([o({attribute:"aria-labelledby",reflect:!0})],t.prototype,"ariaLabelledBy",2);e([o({type:Number,reflect:!0})],t.prototype,"animationDuration",2);e([y(".modal")],t.prototype,"modalElem",2);e([o({reflect:!0})],t.prototype,"triggerOn",2);e([x({slot:"header"})],t.prototype,"headerElements",2);e([b(["withoutCloseOnEscape","withoutCloseOnClickOutside"])],t.prototype,"onCloseOnEscapeChange",1);t=e([w("mte-modal")],t);export{t as MteModal};
